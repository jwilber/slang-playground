<!DOCTYPE html>
<html>
  <head>
    <title>Page Title</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles/fonts.css" />
    <link rel="stylesheet" href="styles/styles.css" />
    <script src="https://unpkg.com/split-grid/dist/split-grid.js"></script>
    <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
    <script>
      require.config({
        paths: {
          vs: "https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs",
        },
      });
      window.MonacoEnvironment = { getWorkerUrl: () => proxy };
      let proxy = URL.createObjectURL(
        new Blob(
          [
            `
              self.MonacoEnvironment = {
                  baseUrl: 'https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/'
              };
              importScripts('https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/base/worker/workerMain.js');
          `,
          ],
          { type: "text/javascript" }
        )
      );
    </script>
    <script src="util.js"></script>
    <script src="pass_through.js"></script>
    <script src="compute.js"></script>
    <script src="try-slang.js"></script>
    <script src="slang-wasm.js"></script>
  </head>
  <body>
    <div class="mainContainer">
      <div class="leftContainer">
        <h2>Slang Playground</h2>
        <div class="navbar">
          <div class="card">
            <div class="navbar-group">
              <div class="dropdown">
                <a href="#" class="dropdown-btn">New &#9662;</a>
                <div class="dropdown-content">
                  <a href="#">Runnable Print Shader</a>
                  <a href="#">Runnable Image Shader</a>
                  <a href="#">Option 3</a>
                </div>
              </div>
              <div class="dropdown">
                <a href="#" class="dropdown-btn">Demo &#9662;</a>
                <div class="dropdown-content">
                  <a href="#">Demo 1</a>
                  <a href="#">Demo 2</a>
                  <a href="#">Demo 3</a>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <button id="run-btn" class="btn" onclick="onRunCompile()" disabled>
              Run
            </button>
          </div>
          <div class="card">
            <a href="#" class="run-btn">computeMain (Compute) -> SPIRV</a>
            <a href="#" class="compile-btn">Compile</a>
          </div>
        </div>
        <div class="workSpace">
          <div class="codingSpace" id="codeEditor"></div>
          <div class="gutter gutter-vertical"></div>
          <div class="diagnosticSpace" id="diagnostics"></div>
        </div>
      </div>
      <div class="gutter gutter-horizontal"></div>
      <div class="rightContainer">
        <div class="resultSpace">
          <div class="outputSpace" id="output">
            <canvas class="renderCanvas" id="canvas"></canvas>
          </div>
          <div class="gutter gutter-vertical"></div>
          <div class="codeGenSpace" id="codeGen"></div>
        </div>
      </div>
    </div>

    <script src="ui.js"></script>
  </body>
</html>
